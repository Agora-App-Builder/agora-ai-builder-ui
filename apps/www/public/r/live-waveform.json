{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "live-waveform",
  "type": "registry:ui",
  "description": "An animated waveform visualization component with states (idle, processing, error)",
  "files": [
    {
      "path": "components/ui/live-waveform.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface LiveWaveformProps\n  extends React.HTMLAttributes<HTMLDivElement> {\n  /**\n   * Whether the waveform is actively animating\n   * @default false\n   */\n  active?: boolean\n\n  /**\n   * Width of each bar in pixels\n   * @default 2\n   */\n  barWidth?: number\n\n  /**\n   * Gap between bars in pixels\n   * @default 1\n   */\n  barGap?: number\n\n  /**\n   * Color of the bars (hex, rgb, or color name)\n   * @default \"#3b82f6\"\n   */\n  barColor?: string\n\n  /**\n   * Height of the waveform container in pixels\n   * @default 20\n   */\n  height?: number\n\n  /**\n   * Whether to fade the edges of the waveform\n   * @default true\n   */\n  fadeEdges?: boolean\n}\n\nexport const LiveWaveform = React.forwardRef<HTMLDivElement, LiveWaveformProps>(\n  (\n    {\n      active = false,\n      barWidth = 2,\n      barGap = 1,\n      barColor = \"#3b82f6\",\n      height = 20,\n      fadeEdges = true,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    // Generate 12 bars for compact waveform (matches eleven labs style)\n    const barCount = 12\n    const bars = Array.from({ length: barCount }, (_, i) => i)\n\n    const getBarHeight = (index: number): number => {\n      if (!active) {\n        return 0.2 // Minimal height when inactive\n      }\n\n      // Create smooth wave animation using sine wave\n      // Each bar has a different phase for cascading effect\n      const phase = (index / barCount) * Math.PI * 2\n      const time = Date.now() / 1000\n      const waveValue = Math.sin(phase + time * 3) // 3 is the speed\n      // Map sine wave from [-1, 1] to [0.2, 1] for visual effect\n      return 0.2 + ((waveValue + 1) / 2) * 0.8\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\"inline-flex items-end justify-center\", className)}\n        style={{\n          height: `${height}px`,\n          gap: `${barGap}px`,\n          position: \"relative\",\n        }}\n        {...props}\n      >\n        <style>{`\n          @keyframes smoothWave {\n            0% {\n              transform: scaleY(0.2);\n            }\n            25% {\n              transform: scaleY(0.8);\n            }\n            50% {\n              transform: scaleY(1);\n            }\n            75% {\n              transform: scaleY(0.4);\n            }\n            100% {\n              transform: scaleY(0.2);\n            }\n          }\n\n          .live-waveform-bar {\n            flex-shrink: 0;\n            background-color: ${barColor};\n            border-radius: 2px;\n            transform-origin: bottom;\n            transition: ${active ? \"none\" : \"transform 0.3s ease-out\"};\n          }\n\n          .live-waveform-bar.active {\n            animation: smoothWave 0.8s ease-in-out infinite;\n          }\n\n          ${\n            fadeEdges\n              ? `\n            .live-waveform-container::before,\n            .live-waveform-container::after {\n              content: '';\n              position: absolute;\n              top: 0;\n              bottom: 0;\n              width: 20px;\n              pointer-events: none;\n            }\n\n            .live-waveform-container::before {\n              left: 0;\n              background: linear-gradient(to right, rgba(255, 255, 255, 0.8), transparent);\n            }\n\n            .live-waveform-container::after {\n              right: 0;\n              background: linear-gradient(to left, rgba(255, 255, 255, 0.8), transparent);\n            }\n          `\n              : \"\"\n          }\n        `}</style>\n\n        {bars.map((i) => (\n          <div\n            key={i}\n            className={cn(\"live-waveform-bar\", { active })}\n            style={{\n              width: `${barWidth}px`,\n              height: `${height * getBarHeight(i)}px`,\n              animationDelay: `${(i / barCount) * 0.8}s`,\n            }}\n          />\n        ))}\n      </div>\n    )\n  }\n)\n\nLiveWaveform.displayName = \"LiveWaveform\"\n",
      "type": "registry:ui"
    },
    {
      "path": "examples/live-waveform-demo.tsx",
      "content": "\"use client\"\n\nimport { useState } from \"react\"\n\nimport { LiveWaveform } from \"@/components/ui/live-waveform\"\n\nexport default function LiveWaveformDemo() {\n  const [active, setActive] = useState(true)\n\n  return (\n    <div className=\"w-full max-w-2xl space-y-8\">\n      {/* Active Toggle */}\n      <div className=\"space-y-3\">\n        <p className=\"text-sm font-medium\">Animation State</p>\n        <label className=\"text-muted-foreground hover:text-foreground inline-flex items-center gap-2 rounded px-2 py-1 text-sm transition-colors\">\n          <input\n            type=\"checkbox\"\n            checked={active}\n            onChange={(e) => setActive(e.target.checked)}\n            className=\"h-4 w-4\"\n          />\n          <span>Active</span>\n        </label>\n      </div>\n\n      {/* Default */}\n      <div className=\"space-y-3 rounded-lg border p-4\">\n        <p className=\"text-sm font-medium\">Default</p>\n        <div className=\"bg-muted flex items-center justify-center rounded-lg p-6\">\n          <LiveWaveform active={active} />\n        </div>\n        <p className=\"text-muted-foreground text-xs\">\n          barWidth={`{4}`}, barGap={`{2}`}, barColor=&quot;#3b82f6&quot;,\n          height={`{100}`}, fadeEdges={`{true}`}\n        </p>\n      </div>\n\n      {/* Custom Blue */}\n      <div className=\"space-y-3 rounded-lg border p-4\">\n        <p className=\"text-sm font-medium\">Custom Blue (Larger)</p>\n        <div className=\"bg-muted flex items-center justify-center rounded-lg p-6\">\n          <LiveWaveform\n            active={active}\n            barWidth={6}\n            barGap={3}\n            barColor=\"#2563eb\"\n            height={120}\n          />\n        </div>\n        <p className=\"text-muted-foreground text-xs\">\n          barWidth={`{6}`}, barGap={`{3}`}, barColor=&quot;#2563eb&quot;,\n          height={`{120}`}\n        </p>\n      </div>\n\n      {/* Purple/Vibrant */}\n      <div className=\"space-y-3 rounded-lg border p-4\">\n        <p className=\"text-sm font-medium\">Purple Vibrant</p>\n        <div className=\"bg-muted flex items-center justify-center rounded-lg p-6\">\n          <LiveWaveform\n            active={active}\n            barWidth={5}\n            barGap={2}\n            barColor=\"#a855f7\"\n            height={90}\n            fadeEdges={false}\n          />\n        </div>\n        <p className=\"text-muted-foreground text-xs\">\n          barColor=&quot;#a855f7&quot;, fadeEdges={`{false}`}\n        </p>\n      </div>\n\n      {/* Compact */}\n      <div className=\"space-y-3 rounded-lg border p-4\">\n        <p className=\"text-sm font-medium\">Compact</p>\n        <div className=\"bg-muted flex items-center justify-center rounded-lg p-6\">\n          <LiveWaveform\n            active={active}\n            barWidth={3}\n            barGap={1}\n            barColor=\"#06b6d4\"\n            height={60}\n          />\n        </div>\n        <p className=\"text-muted-foreground text-xs\">\n          barWidth={`{3}`}, barGap={`{1}`}, height={`{60}`}\n        </p>\n      </div>\n\n      {/* Info */}\n      <div className=\"rounded-lg border p-4\">\n        <p className=\"mb-2 text-sm font-medium\">Props</p>\n        <div className=\"text-muted-foreground space-y-1 text-xs\">\n          <div>\n            <strong>active:</strong> Boolean to enable/disable animation\n          </div>\n          <div>\n            <strong>barWidth:</strong> Width of each bar in pixels (default: 4)\n          </div>\n          <div>\n            <strong>barGap:</strong> Space between bars in pixels (default: 2)\n          </div>\n          <div>\n            <strong>barColor:</strong> Color of bars as hex/rgb/color name\n            (default: #3b82f6)\n          </div>\n          <div>\n            <strong>height:</strong> Height of waveform in pixels (default: 100)\n          </div>\n          <div>\n            <strong>fadeEdges:</strong> Fade effect on left/right edges\n            (default: true)\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n",
      "type": "registry:example"
    }
  ]
}
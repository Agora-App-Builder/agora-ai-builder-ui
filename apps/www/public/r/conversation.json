{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "conversation",
  "type": "registry:ui",
  "description": "A scrollable conversation component for displaying user and assistant messages",
  "registryDependencies": [
    "button"
  ],
  "files": [
    {
      "path": "components/ui/conversation.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\nexport interface ConversationProps\n  extends React.HTMLAttributes<HTMLDivElement> {\n  /**\n   * Height of the conversation container\n   * @default \"h-[400px]\"\n   */\n  height?: string\n}\n\nconst ConversationContext = React.createContext<{\n  scrollRef: React.RefObject<HTMLDivElement>\n} | null>(null)\n\nconst useConversation = () => {\n  const context = React.useContext(ConversationContext)\n  if (!context) {\n    throw new Error(\"useConversation must be used within Conversation\")\n  }\n  return context\n}\n\nexport const Conversation = React.forwardRef<HTMLDivElement, ConversationProps>(\n  ({ className, height = \"h-[400px]\", ...props }, ref) => {\n    const scrollRef = React.useRef<HTMLDivElement>(null)\n    const [showScrollButton, setShowScrollButton] = React.useState(false)\n\n    const scrollToBottom = () => {\n      if (scrollRef.current) {\n        scrollRef.current.scrollTop = scrollRef.current.scrollHeight\n      }\n    }\n\n    React.useEffect(() => {\n      const handleScroll = () => {\n        if (scrollRef.current) {\n          const { scrollTop, scrollHeight, clientHeight } = scrollRef.current\n          const isNearBottom = scrollHeight - scrollTop - clientHeight < 100\n          setShowScrollButton(!isNearBottom)\n        }\n      }\n\n      const observer = new MutationObserver(() => {\n        setTimeout(scrollToBottom, 0)\n      })\n\n      if (scrollRef.current) {\n        observer.observe(scrollRef.current, { childList: true, subtree: true })\n        scrollRef.current.addEventListener(\"scroll\", handleScroll)\n      }\n\n      return () => {\n        observer.disconnect()\n        if (scrollRef.current) {\n          scrollRef.current.removeEventListener(\"scroll\", handleScroll)\n        }\n      }\n    }, [])\n\n    return (\n      <ConversationContext.Provider value={{ scrollRef }}>\n        <div\n          ref={ref}\n          className={cn(\n            \"relative flex flex-col overflow-hidden\",\n            height,\n            className\n          )}\n          {...props}\n        >\n          <div ref={scrollRef} className=\"flex-1 overflow-y-auto\">\n            {props.children}\n          </div>\n          {showScrollButton && (\n            <ConversationScrollButton onClick={scrollToBottom} />\n          )}\n        </div>\n      </ConversationContext.Provider>\n    )\n  }\n)\n\nConversation.displayName = \"Conversation\"\n\nexport interface ConversationContentProps\n  extends React.HTMLAttributes<HTMLDivElement> {\n  /**\n   * Padding class\n   * @default \"p-4\"\n   */\n  padding?: string\n}\n\nexport const ConversationContent = React.forwardRef<\n  HTMLDivElement,\n  ConversationContentProps\n>(({ className, padding = \"p-4\", ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col gap-4\", padding, className)}\n    {...props}\n  />\n))\n\nConversationContent.displayName = \"ConversationContent\"\n\nexport interface ConversationEmptyStateProps\n  extends React.HTMLAttributes<HTMLDivElement> {\n  /**\n   * Icon to display\n   */\n  icon?: React.ReactNode\n\n  /**\n   * Title text\n   * @default \"No messages yet\"\n   */\n  title?: React.ReactNode\n\n  /**\n   * Description text\n   * @default \"Start a conversation to see messages here\"\n   */\n  description?: React.ReactNode\n}\n\nexport const ConversationEmptyState = React.forwardRef<\n  HTMLDivElement,\n  ConversationEmptyStateProps\n>(\n  (\n    {\n      className,\n      icon,\n      title = \"No messages yet\",\n      description = \"Start a conversation to see messages here\",\n      ...props\n    },\n    ref\n  ) => (\n    <div\n      ref={ref}\n      className={cn(\n        \"flex h-full flex-col items-center justify-center gap-3 p-8 text-center\",\n        className\n      )}\n      {...props}\n    >\n      {icon && <div className=\"flex justify-center\">{icon}</div>}\n      <div className=\"space-y-1\">\n        <h3 className=\"font-semibold\">{title}</h3>\n        <p className=\"text-muted-foreground text-sm\">{description}</p>\n      </div>\n    </div>\n  )\n)\n\nConversationEmptyState.displayName = \"ConversationEmptyState\"\n\nexport interface ConversationScrollButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement> {}\n\nexport const ConversationScrollButton = React.forwardRef<\n  HTMLButtonElement,\n  ConversationScrollButtonProps\n>(({ className, ...props }, ref) => {\n  const { scrollRef } = useConversation()\n\n  return (\n    <Button\n      ref={ref}\n      size=\"icon\"\n      rounded\n      className={cn(\n        \"absolute bottom-4 left-1/2 -translate-x-1/2 shadow-md\",\n        className\n      )}\n      onClick={() => {\n        if (scrollRef.current) {\n          scrollRef.current.scrollTop = scrollRef.current.scrollHeight\n        }\n      }}\n      {...props}\n    >\n      <ChevronDown className=\"h-4 w-4\" />\n    </Button>\n  )\n})\n\nConversationScrollButton.displayName = \"ConversationScrollButton\"\n",
      "type": "registry:ui"
    }
  ]
}
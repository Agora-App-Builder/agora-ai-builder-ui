{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "avatar",
  "type": "registry:ui",
  "description": "A flexible avatar component that displays images, icons, or initials",
  "files": [
    {
      "path": "components/ui/avatar.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport { User } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport type AvatarSize = \"sm\" | \"md\" | \"lg\"\n\nexport interface AvatarProps extends React.HTMLAttributes<HTMLDivElement> {\n  /**\n   * Image URL for the avatar\n   */\n  src?: string\n\n  /**\n   * Icon to display (takes precedence over initials if no image)\n   */\n  icon?: React.ReactNode\n\n  /**\n   * Custom initials to display (takes precedence over name)\n   */\n  initials?: string\n\n  /**\n   * Full name (used to generate initials if initials not provided)\n   */\n  name?: string\n\n  /**\n   * Size of the avatar\n   * @default \"md\"\n   */\n  size?: AvatarSize\n\n  /**\n   * Background color for the avatar\n   * @default \"bg-gradient-to-br from-blue-500 to-blue-600\"\n   */\n  bgColor?: string\n\n  /**\n   * Alt text for image\n   */\n  alt?: string\n}\n\nconst sizeClasses: Record<AvatarSize, string> = {\n  sm: \"h-8 w-8\",\n  md: \"h-10 w-10\",\n  lg: \"h-12 w-12\",\n}\n\nconst iconSizeClasses: Record<AvatarSize, string> = {\n  sm: \"h-4 w-4\",\n  md: \"h-5 w-5\",\n  lg: \"h-6 w-6\",\n}\n\nconst getInitials = (name?: string, customInitials?: string): string => {\n  if (customInitials) return customInitials.toUpperCase()\n  if (name) {\n    return name\n      .split(\" \")\n      .slice(0, 2)\n      .map((part) => part[0])\n      .join(\"\")\n      .toUpperCase()\n  }\n  return \"?\"\n}\n\nexport const Avatar = React.forwardRef<HTMLDivElement, AvatarProps>(\n  (\n    {\n      className,\n      src,\n      icon,\n      initials,\n      name,\n      size = \"md\",\n      bgColor = \"bg-gradient-to-br from-blue-500 to-blue-600\",\n      alt = \"avatar\",\n      ...props\n    },\n    ref\n  ) => {\n    const [imageError, setImageError] = React.useState(false)\n    const displayInitials = getInitials(name, initials)\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"ring-border flex items-center justify-center overflow-hidden rounded-full ring-1\",\n          sizeClasses[size],\n          className\n        )}\n        {...props}\n      >\n        {src && !imageError ? (\n          <img\n            src={src}\n            alt={alt}\n            className=\"h-full w-full object-cover\"\n            onError={() => setImageError(true)}\n          />\n        ) : icon ? (\n          <div\n            className={cn(\n              \"flex items-center justify-center\",\n              bgColor,\n              \"text-white\"\n            )}\n          >\n            {icon}\n          </div>\n        ) : (\n          <div\n            className={cn(\n              \"flex items-center justify-center text-xs font-semibold text-white\",\n              bgColor,\n              sizeClasses[size]\n            )}\n          >\n            {displayInitials}\n          </div>\n        )}\n      </div>\n    )\n  }\n)\n\nAvatar.displayName = \"Avatar\"\n",
      "type": "registry:ui"
    },
    {
      "path": "examples/avatar-demo.tsx",
      "content": "\"use client\"\n\nimport { MessageCircle, Mic, User } from \"lucide-react\"\n\nimport { Avatar } from \"@/components/ui/avatar\"\n\nexport default function AvatarDemo() {\n  return (\n    <div className=\"w-full max-w-2xl space-y-8\">\n      {/* Sizes */}\n      <div className=\"space-y-3\">\n        <p className=\"text-sm font-medium\">Sizes</p>\n        <div className=\"flex items-center gap-4\">\n          <Avatar size=\"sm\" initials=\"JD\" />\n          <Avatar size=\"md\" initials=\"JD\" />\n          <Avatar size=\"lg\" initials=\"JD\" />\n        </div>\n      </div>\n\n      {/* With Icons */}\n      <div className=\"space-y-3\">\n        <p className=\"text-sm font-medium\">With Icons</p>\n        <div className=\"flex items-center gap-4\">\n          <Avatar\n            size=\"md\"\n            icon={<Mic className=\"h-5 w-5\" />}\n            bgColor=\"bg-gradient-to-br from-blue-500 to-blue-600\"\n          />\n          <Avatar\n            size=\"md\"\n            icon={<MessageCircle className=\"h-5 w-5\" />}\n            bgColor=\"bg-gradient-to-br from-purple-500 to-purple-600\"\n          />\n          <Avatar\n            size=\"md\"\n            icon={<User className=\"h-5 w-5\" />}\n            bgColor=\"bg-gradient-to-br from-green-500 to-green-600\"\n          />\n        </div>\n      </div>\n\n      {/* With Initials */}\n      <div className=\"space-y-3\">\n        <p className=\"text-sm font-medium\">With Initials</p>\n        <div className=\"flex flex-wrap items-center gap-4\">\n          <div className=\"flex flex-col items-center gap-2\">\n            <Avatar\n              initials=\"JD\"\n              bgColor=\"bg-gradient-to-br from-blue-500 to-blue-600\"\n            />\n            <span className=\"text-muted-foreground text-xs\">JD</span>\n          </div>\n          <div className=\"flex flex-col items-center gap-2\">\n            <Avatar\n              initials=\"AB\"\n              bgColor=\"bg-gradient-to-br from-pink-500 to-pink-600\"\n            />\n            <span className=\"text-muted-foreground text-xs\">AB</span>\n          </div>\n          <div className=\"flex flex-col items-center gap-2\">\n            <Avatar\n              initials=\"XY\"\n              bgColor=\"bg-gradient-to-br from-orange-500 to-orange-600\"\n            />\n            <span className=\"text-muted-foreground text-xs\">XY</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Auto-generate from Name */}\n      <div className=\"space-y-3\">\n        <p className=\"text-sm font-medium\">Auto-generated from Name</p>\n        <div className=\"flex flex-wrap items-center gap-4\">\n          <div className=\"flex flex-col items-center gap-2\">\n            <Avatar\n              name=\"John Doe\"\n              bgColor=\"bg-gradient-to-br from-blue-500 to-blue-600\"\n            />\n            <span className=\"text-muted-foreground text-xs\">John Doe</span>\n          </div>\n          <div className=\"flex flex-col items-center gap-2\">\n            <Avatar\n              name=\"Alice Brown\"\n              bgColor=\"bg-gradient-to-br from-pink-500 to-pink-600\"\n            />\n            <span className=\"text-muted-foreground text-xs\">Alice Brown</span>\n          </div>\n          <div className=\"flex flex-col items-center gap-2\">\n            <Avatar\n              name=\"Xavier Young\"\n              bgColor=\"bg-gradient-to-br from-orange-500 to-orange-600\"\n            />\n            <span className=\"text-muted-foreground text-xs\">Xavier Young</span>\n          </div>\n        </div>\n      </div>\n\n      {/* With Image */}\n      <div className=\"space-y-3\">\n        <p className=\"text-sm font-medium\">With Image</p>\n        <div className=\"flex items-center gap-4\">\n          <Avatar\n            src=\"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=40&h=40&fit=crop\"\n            alt=\"User Avatar\"\n            size=\"md\"\n          />\n          <Avatar\n            src=\"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=40&h=40&fit=crop\"\n            alt=\"User Avatar\"\n            size=\"md\"\n          />\n          <Avatar\n            src=\"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=40&h=40&fit=crop\"\n            alt=\"User Avatar\"\n            size=\"md\"\n          />\n        </div>\n      </div>\n\n      {/* Fallback Behavior (Priority) */}\n      <div className=\"space-y-3\">\n        <p className=\"text-sm font-medium\">\n          Priority Order (Image {\">\"} Icon {\">\"} Initials)\n        </p>\n        <div className=\"space-y-2\">\n          <div className=\"text-muted-foreground flex items-center gap-2 text-xs\">\n            <Avatar\n              src=\"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=40&h=40&fit=crop\"\n              icon={<Mic className=\"h-5 w-5\" />}\n              initials=\"JD\"\n            />\n            <span>Image wins (shows image)</span>\n          </div>\n          <div className=\"text-muted-foreground flex items-center gap-2 text-xs\">\n            <Avatar\n              icon={<Mic className=\"h-5 w-5\" />}\n              initials=\"JD\"\n              bgColor=\"bg-gradient-to-br from-blue-500 to-blue-600\"\n            />\n            <span>Icon wins (shows icon)</span>\n          </div>\n          <div className=\"text-muted-foreground flex items-center gap-2 text-xs\">\n            <Avatar\n              initials=\"JD\"\n              bgColor=\"bg-gradient-to-br from-blue-500 to-blue-600\"\n            />\n            <span>Shows initials (fallback)</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Info */}\n      <div className=\"rounded-lg border p-4\">\n        <p className=\"mb-3 text-sm font-medium\">About Avatar</p>\n        <div className=\"text-muted-foreground space-y-2 text-xs\">\n          <p>\n            A flexible avatar component that can display images, icons, or\n            initials. Priority order: Image → Icon → Initials → Default.\n          </p>\n          <p className=\"mt-2\">\n            <strong>Props:</strong> src, icon, initials, name, size (sm/md/lg),\n            bgColor\n          </p>\n          <p className=\"mt-2\">\n            <strong>Sizes:</strong> sm (32px), md (40px), lg (48px)\n          </p>\n          <p className=\"mt-2\">\n            <strong>Auto-initials:</strong> Pass name prop to auto-generate\n            initials from first letters\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n",
      "type": "registry:example"
    }
  ]
}